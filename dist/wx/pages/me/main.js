require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonpMpvue([2],{"1+Lu":function(t,e,i){"use strict";var s=i("7wY1"),n=i("WG6D");var o=function(t){i("OPWP")},a=i("ybqe")(s.a,n.a,o,"data-v-fc19b91e",null);e.a=a.exports},"7wY1":function(t,e,i){"use strict";var s=i("IcnI");e.a={name:"Me",data:function(){return{textSizeList:[{size:"小"},{size:"中"},{size:"大"}],themeModeList:[{theme:"简约白"},{theme:"之家红"},{theme:"石榴粉"},{theme:"芒果橙"},{theme:"旗鱼蓝"},{theme:"西瓜绿"},{theme:"葡萄紫"}],test:!getApp().globalData.isShowIndexRefresh,timer:null,timer2:null,linearTime:null}},computed:{isShowRefresh:function(t){return s.a.getters.isShowRefresh},textIndex:function(t){return s.a.getters.textIndex},themeIndex:function(t){return s.a.getters.themeIndex},isAutoNightMode:function(t){return s.a.getters.isAutoNightMode},globalAutoNightStartTime:function(t){return s.a.getters.globalAutoNightStartTime},globalAutoNightEndTime:function(t){return s.a.getters.globalAutoNightEndTime},isNightMode:function(t){return s.a.getters.isNightMode},userInfo:function(t){return s.a.getters.userInfo}},mounted:function(){this.setNightMoode(),wx.showShareMenu({withShareTicket:!0})},watch:{linearTime:function(t){t&&this.setAutoNightModelTime()?this.setAutoNightModeTheme():this.resetAutoNightModeTheme()},themeIndex:function(t){t&&this.setTheme(t)}},methods:{login:function(t){var e=this;wx.getSetting({success:function(t){e.setUser(t)}})},setUser:function(t){var e=this;t.authSetting["scope.userInfo"]?wx.login({success:function(t){t&&t.code&&e.getUserInfo(t.code)}}):wx.authorize({scope:"scope.userInfo",success:function(){}})},getUserInfo:function(t){s.a.dispatch("getUserInfo")},toggleRefresh:function(t){s.a.commit("toggleRefresh"),this.isShowRefresh?wx.setStorageSync("isShowIndexRefresh",!0):wx.setStorageSync("isShowIndexRefresh",!1)},pickerTextSizeChange:function(t){s.a.commit("pickerTextSizeChange",t.target.value||1);var e=t.target.value;wx.setStorageSync("globalFontSize",e)},pickerThemeChange:function(t){var e=Number(t.target.value);s.a.commit("pickerThemeChange",e||0),wx.setStorageSync("globalTheme",e)},toggleAutoNightMode:function(t){s.a.commit("toggleAutoNightMode",t.target.value),t.target.value?(this.linearTime=(new Date).getTime(),this.setLinearTime(),this.setAutoNightModelTime()?this.setAutoNightModeTheme():this.resetAutoNightModeTheme()):(this.linearTime=null,this.clearLinearTime()),this.isAutoNightMode?wx.setStorageSync("isAutoNightModeInGlobal",!0):wx.setStorageSync("isAutoNightModeInGlobal",!1)},setAutoNightModelTime:function(){var t=new Date(this.linearTime).getFullYear(),e=new Date(this.linearTime).getMonth()+1,i=new Date(this.linearTime).getDate(),s=new Date(t+"/"+e+"/"+i+" "+this.globalAutoNightStartTime),n=new Date(t+"/"+e+"/"+i+" "+this.globalAutoNightEndTime),o=s.getTime(),a=n.getTime();if(o<=a){if(this.linearTime<o||this.linearTime>a)return!1}else{if(this.linearTime>a)return!1;if(this.linearTime<o-864e5)return!1}return!0},setAutoNightModeTheme:function(){s.a.commit("toggleNightMode",!0)},resetAutoNightModeTheme:function(){s.a.commit("toggleNightMode",!1)},pickerAutoNightStartTime:function(t){var e=t.target.value;s.a.commit("pickerAutoNightStartTime",e||"00:00"),wx.setStorageSync("globalAutoNightStartTime",e)},pickerAutoNightEndTime:function(t){var e=t.target.value;s.a.commit("pickerAutoNightEndTime",e||"00:00"),wx.setStorageSync("globalAutoNightEndTime",e)},toggleNightMode:function(t){s.a.commit("toggleNightMode",t.target.value),this.isNightMode?wx.setStorageSync("isNightModeInGlobal",!0):(this.setTheme(this.themeIndex),wx.setStorageSync("isNightModeInGlobal",!1))},setTheme:function(t){this.timer=setTimeout(function(){s.a.commit("pickerThemeChange",t)},0)},setNightMoode:function(){this.isNightMode?s.a.commit("toggleNightMode",!0):this.setTheme(this.themeIndex)},setLinearTime:function(){var t=this;this.timer2=setInterval(function(){t.linearTime+=1e3},1e3)},clearLinearTime:function(){this.timer2=clearInterval(this.timer2)}},beforeDestroy:function(){this.timer=clearTimeout(this.timer),this.timer2=clearInterval(this.timer2)}}},OPWP:function(t,e){},SijM:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("5nAL"),n=i.n(s),o=i("1+Lu");new n.a(o.a).$mount()},WG6D:function(t,e,i){"use strict";var s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.isNightMode?"night":"",staticStyle:{height:"100vh"}},[i("div",{staticClass:"avatar-box"},[i("button",{staticClass:"avatar",attrs:{"open-type":"getUserInfo",lang:"zh_CN",eventid:"0"},on:{getuserinfo:t.login}},[t.userInfo.avatarUrl?i("img",{attrs:{src:t.userInfo.avatarUrl}}):i("div",{staticClass:"default-avatar-box"},[i("text",{staticClass:"default-avatar-login"},[t._v("点击登录")])])]),t._v(" "),t.userInfo.nickName?i("div",{staticClass:"nickname-box"},[i("text",{staticClass:"nickname"},[t._v(t._s(t.userInfo.nickName))])]):t._e()],1),t._v(" "),i("div",{staticClass:"single-setting",class:{"line-color":t.isNightMode,"nickname-top":t.userInfo.nickName}},[i("text",{class:{"night-text":t.isNightMode}},[t._v("显示首页刷新按钮")]),t._v(" "),i("switch",{staticClass:"fr",attrs:{checked:t.isShowRefresh,eventid:"1"},on:{change:t.toggleRefresh}})]),t._v(" "),i("div",{staticClass:"single-setting",class:t.isNightMode?"line-color":""},[i("picker",{attrs:{value:t.textIndex,range:t.textSizeList,"range-key":"size",eventid:"2"},on:{change:t.pickerTextSizeChange}},[i("div",[i("text",{class:{"night-text":t.isNightMode}},[t._v("列表/正文字体大小")]),t._v(" "),i("text",{staticClass:"fr pr10",class:{"night-text":t.isNightMode}},[t._v(t._s(t.textSizeList[t.textIndex].size))])])])],1),t._v(" "),i("div",{staticClass:"single-setting",class:t.isNightMode?"line-color":""},[i("picker",{attrs:{value:t.themeIndex,range:t.themeModeList,"range-key":"theme",eventid:"3"},on:{change:t.pickerThemeChange}},[i("text",{class:{"night-text":t.isNightMode}},[t._v("主题模式")]),t._v(" "),i("text",{staticClass:"fr pr10",class:{"night-text":t.isNightMode}},[t._v(t._s(t.themeModeList[t.themeIndex].theme))])])],1),t._v(" "),i("div",{staticClass:"single-setting",class:t.isNightMode?"line-color":""},[i("text",{class:{"night-text":t.isNightMode}},[t._v("自动夜间模式")]),t._v(" "),i("switch",{staticClass:"fr",attrs:{checked:t.isAutoNightMode,eventid:"4"},on:{change:t.toggleAutoNightMode}})]),t._v(" "),t.isAutoNightMode?i("div",{staticClass:"auto-timer"},[i("picker",{attrs:{mode:"time",start:"00:00",value:t.globalAutoNightStartTime,eventid:"6"},on:{change:t.pickerAutoNightStartTime}},[i("text",{staticClass:"auto-start-time auto-time",class:{"night-text":t.isNightMode,"night-border":t.isNightMode},attrs:{eventid:"5"},on:{click:function(t){}}},[t._v(t._s(t.globalAutoNightStartTime))])]),t._v(" "),i("text",{staticStyle:{"margin-left":"15px","padding-top":"3px"}},[t._v("-")]),t._v(" "),i("picker",{attrs:{mode:"time",start:"00:00",value:t.globalAutoNightEndTime,eventid:"7"},on:{change:t.pickerAutoNightEndTime}},[i("text",{staticClass:"auto-end-time auto-time",class:{"night-text":t.isNightMode,"night-border":t.isNightMode}},[t._v(t._s(t.globalAutoNightEndTime))])])],1):t._e(),t._v(" "),i("div",{staticClass:"single-setting",class:t.isNightMode?"line-color":""},[i("text",{class:{"night-text":t.isNightMode}},[t._v("夜间模式")]),t._v(" "),i("switch",{staticClass:"fr",attrs:{checked:t.isNightMode,eventid:"8"},on:{change:t.toggleNightMode}})])])},staticRenderFns:[]};e.a=s}},["SijM"]);